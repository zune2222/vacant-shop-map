(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{4461:function(e,t,s){Promise.resolve().then(s.bind(s,5494))},5494:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return eo}});var a,r,n=s(7437),l=s(2265),i=s(6648),o=s(9099);let c={rentRange:[0,1e3],areaRange:[0,100],shopTypes:["restaurant","retail","office","etc"],region:void 0},d=e=>window.naver?({TOP_LEFT:window.naver.maps.Position.TOP_LEFT,TOP_CENTER:window.naver.maps.Position.TOP_CENTER,TOP_RIGHT:window.naver.maps.Position.TOP_RIGHT,CENTER_LEFT:window.naver.maps.Position.CENTER_LEFT,CENTER:window.naver.maps.Position.CENTER,CENTER_RIGHT:window.naver.maps.Position.CENTER_RIGHT,BOTTOM_LEFT:window.naver.maps.Position.BOTTOM_LEFT,BOTTOM_CENTER:window.naver.maps.Position.BOTTOM_CENTER,BOTTOM_RIGHT:window.naver.maps.Position.BOTTOM_RIGHT})[e]||window.naver.maps.Position.TOP_RIGHT:e,u=(0,o.Ue)((e,t)=>({filters:c,appliedFilters:c,isFilterPanelOpen:!1,setFilters:t=>{e({filters:t})},applyFilters:t=>{e({filters:t,appliedFilters:t,isFilterPanelOpen:!1})},openFilterPanel:()=>{e({isFilterPanelOpen:!0})},closeFilterPanel:()=>{e({isFilterPanelOpen:!1})},resetFilters:()=>{e({filters:c,appliedFilters:c})},isDefaultFilter:()=>{let{appliedFilters:e}=t();return e.rentRange[0]===c.rentRange[0]&&e.rentRange[1]===c.rentRange[1]&&e.areaRange[0]===c.areaRange[0]&&e.areaRange[1]===c.areaRange[1]&&e.shopTypes.length===c.shopTypes.length&&e.shopTypes.every(e=>c.shopTypes.includes(e))&&!e.region}}));function h(){let[e,t]=(0,l.useState)(!1),[s,a]=(0,l.useState)(!0),{openFilterPanel:r}=u();return(0,l.useEffect)(()=>{t(!0)},[]),(0,n.jsxs)("header",{className:"fixed top-0 left-0 right-0 z-50 bg-white/95 backdrop-blur-sm border-b border-gray-200 shadow-sm",children:[(0,n.jsxs)("div",{className:"flex items-center justify-between px-4 py-3",children:[(0,n.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,n.jsx)("div",{className:"relative w-8 h-8 flex-shrink-0",children:(0,n.jsx)(i.default,{src:"/logo.png",alt:"공실 상가 지도 로고",width:32,height:32,className:"w-full h-full object-contain",priority:!0})}),s&&(0,n.jsxs)("div",{children:[(0,n.jsx)("h1",{className:"text-lg font-bold text-gray-900 leading-tight",children:"공실상가지도"}),(0,n.jsx)("p",{className:"text-xs text-gray-500 leading-none",children:"빈 상가를 쉽게 찾아보세요"})]})]}),(0,n.jsx)("div",{className:"flex items-center space-x-2",children:e&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("button",{onClick:r,className:"p-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors","aria-label":"필터 열기",children:(0,n.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.707A1 1 0 013 7V4z"})})}),(0,n.jsx)("button",{onClick:()=>a(!s),className:"p-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors sm:hidden","aria-label":"제목 토글",children:(0,n.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:s?"M6 18L18 6M6 6l12 12":"M4 6h16M4 12h16M4 18h16"})})})]})})]}),(0,n.jsx)("div",{className:"h-0.5 bg-gradient-to-r from-blue-500 via-purple-500 to-pink-500 transform origin-left scale-x-0 transition-transform duration-300 group-hover:scale-x-100"})]})}function m(){return(0,n.jsx)("div",{className:"h-16"})}function p(e){let{title:t="데이터 로딩 실패",message:s="데이터를 불러오는 중 오류가 발생했습니다.",errorCode:a,onRetry:r,showDetails:l=!1,className:i="",size:o="medium"}=e,c={small:{container:"p-3",icon:"w-8 h-8",title:"text-sm font-medium",message:"text-xs",button:"px-3 py-1 text-sm"},medium:{container:"p-4",icon:"w-12 h-12",title:"text-lg font-semibold",message:"text-sm",button:"px-4 py-2"},large:{container:"p-6",icon:"w-16 h-16",title:"text-xl font-bold",message:"text-base",button:"px-6 py-3 text-lg"}}[o];return(0,n.jsxs)("div",{className:"text-center ".concat(c.container," ").concat(i),children:[(0,n.jsx)("div",{className:"flex justify-center mb-4",children:(0,n.jsx)("svg",{className:"".concat(c.icon," mx-auto text-red-500"),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,n.jsx)("h3",{className:"".concat(c.title," text-gray-900 mb-2"),children:t}),(0,n.jsx)("p",{className:"".concat(c.message," text-gray-600 mb-4"),children:s}),a&&(0,n.jsx)("div",{className:"mb-4",children:(0,n.jsxs)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800",children:["오류 코드: ",a]})}),r&&(0,n.jsx)("button",{onClick:r,className:"\n            ".concat(c.button,"\n            bg-blue-500 text-white rounded-lg font-medium\n            hover:bg-blue-600 active:bg-blue-700\n            transition-colors duration-200\n            focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2\n          "),children:"다시 시도"}),l&&!1]})}let x={mapInstance:null,isMapLoaded:!1,center:{lat:35.22889,lng:129.0813095},zoom:15,isLoading:!1,error:null,markers:[],mapMarkers:[],selectedMarkerId:null,hoveredMarkerId:null},g=(0,o.Ue)((e,t)=>({...x,setMapInstance:t=>e({mapInstance:t,isMapLoaded:!!t}),setMapLoaded:t=>e({isMapLoaded:t}),setCenter:t=>e({center:t}),setZoom:t=>e({zoom:t}),setLoading:t=>e({isLoading:t}),setError:t=>e({error:t}),resetMap:()=>e(x),setMarkers:t=>e({markers:t}),setMapMarkers:t=>e({mapMarkers:t}),setSelectedMarkerId:t=>e({selectedMarkerId:t}),setHoveredMarkerId:t=>e({hoveredMarkerId:t}),clearAllMarkers:()=>{let{markers:s}=t();s.forEach(e=>{e&&e.setMap&&e.setMap(null)}),e({markers:[],mapMarkers:[],selectedMarkerId:null,hoveredMarkerId:null})}})),f=!1,v=!1,b=()=>new Promise((e,t)=>{if(v&&window.naver&&window.naver.maps){e();return}if(f){let t=()=>{v&&window.naver&&window.naver.maps?e():setTimeout(t,100)};t();return}f=!0;let s=document.querySelector('script[src*="oapi.map.naver.com"]');s&&s.remove();let a=document.createElement("script");a.type="text/javascript";let r="0rb44uvut3";if(!r){let e="Naver Maps API 키가 설정되지 않았습니다. .env.local 파일을 확인해주세요.";console.error("❌",e),f=!1,t(Error(e));return}a.src="https://oapi.map.naver.com/openapi/v3/maps.js?ncpKeyId=".concat(r),a.onload=()=>{v=!0,f=!1,e()},a.onerror=e=>{f=!1,console.error("❌ Failed to load Naver Maps API script:",e),t(Error("Failed to load Naver Maps API script"))},window.navermap_authFailure=function(){console.error("❌ Naver Maps API authentication failed - 401 Unauthorized"),console.error("\uD83D\uDD27 해결 방법:"),console.error("1. API 키가 올바른지 확인"),console.error("2. Naver Cloud Platform에서 Maps API 서비스 활성화"),console.error("3. 허용 도메인에 localhost:3000, localhost:3001 추가"),console.error("4. API 사용량 한도 확인"),f=!1,t(Error("Naver Maps API authentication failed"))},document.head.appendChild(a)});var w=s(3669);let y=()=>window.naver&&window.naver.maps&&window.naver.maps.Map;function j(e){let{shops:t,onMarkerClick:s}=e,{mapInstance:a,isMapLoaded:r,markers:n,mapMarkers:i,selectedMarkerId:o,hoveredMarkerId:c,setMarkers:d,setMapMarkers:u,setSelectedMarkerId:h,setHoveredMarkerId:m,clearAllMarkers:p}=g(),x=(0,l.useRef)(new w.Z({radius:80,maxZoom:16,minZoom:0,minPoints:2})),[f,v]=(0,l.useState)(13),b=(0,l.useCallback)(e=>{switch(e){case"restaurant":return"/markers/restaurant.svg";case"retail":return"/markers/retail.svg";case"office":return"/markers/office.svg";default:return"/markers/etc.svg"}},[]),j=(0,l.useCallback)(e=>{if(!y())return console.warn("⚠️ Naver Maps not available for cluster icon creation"),null;let t=e<10?40:e<100?50:60;try{return{content:'<div style="\n          width: '.concat(t,"px;\n          height: ").concat(t,"px;\n          background-color: ").concat(e<10?"#4285F4":e<100?"#FF6B35":"#E53E3E",";\n          border-radius: 50%;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          color: white;\n          font-weight: bold;\n          font-size: ").concat(t<50?"12px":"14px",';\n          border: 3px solid white;\n          box-shadow: 0 2px 6px rgba(0,0,0,0.3);\n          cursor: pointer;\n        ">').concat(e,"</div>"),size:new window.naver.maps.Size(t,t),anchor:new window.naver.maps.Point(t/2,t/2)}}catch(e){return console.error("❌ Failed to create cluster icon:",e),null}},[]);(0,l.useEffect)(()=>{if(a&&r&&y())try{let e=window.naver.maps.Event.addListener(a,"zoom_changed",()=>{let e=a.getZoom();v(e)});return v(a.getZoom()),()=>{window.naver&&window.naver.maps&&window.naver.maps.Event&&window.naver.maps.Event.removeListener(e)}}catch(e){console.error("❌ Failed to setup zoom listener:",e)}},[a,r]);let N=(0,l.useCallback)(e=>e.map(e=>({type:"Feature",properties:{cluster:!1,shopId:e.id,name:e.name,shopType:e.shopType,monthlyRent:e.monthlyRent},geometry:{type:"Point",coordinates:[e.longitude,e.latitude]}})),[]);return(0,l.useEffect)(()=>{if(a&&r&&t.length&&y())try{g.getState().markers.forEach(e=>{e&&e.setMap&&e.setMap(null)});let e=N(t);x.current.load(e);let r=a.getBounds(),n=[r.getSW().lng(),r.getSW().lat(),r.getNE().lng(),r.getNE().lat()],l=x.current.getClusters(n,Math.floor(f)),i=[],o=[];return l.forEach(e=>{try{let t;let[r,n]=e.geometry.coordinates,l=new window.naver.maps.LatLng(n,r);if(e.properties.cluster){let s=e.properties.point_count,i=j(s);if(!i){console.warn("⚠️ Skipping cluster marker due to icon creation failure");return}t=new window.naver.maps.Marker({position:l,map:a,icon:i,zIndex:1e3}),window.naver.maps.Event.addListener(t,"click",()=>{let t=Math.min(x.current.getClusterExpansionZoom(e.properties.cluster_id),17);a.setZoom(t),a.setCenter(l)}),o.push({id:"cluster-".concat(e.properties.cluster_id),position:{lat:n,lng:r},isCluster:!0,pointCount:s,shopType:"cluster",isActive:!0,name:"".concat(s,"개 상점"),monthlyRent:0})}else{let i=e.properties;t=new window.naver.maps.Marker({position:l,map:a,title:i.name,icon:{url:b(i.shopType),size:new window.naver.maps.Size(40,50),anchor:new window.naver.maps.Point(20,50)},zIndex:100}),window.naver.maps.Event.addListener(t,"click",()=>{h(i.shopId),null==s||s(i.shopId)}),window.naver.maps.Event.addListener(t,"mouseover",()=>{m(i.shopId),t.setIcon({url:b(i.shopType),size:new window.naver.maps.Size(45,56),anchor:new window.naver.maps.Point(22,56)})}),window.naver.maps.Event.addListener(t,"mouseout",()=>{m(null),t.setIcon({url:b(i.shopType),size:new window.naver.maps.Size(40,50),anchor:new window.naver.maps.Point(20,50)})}),o.push({id:i.shopId,position:{lat:n,lng:r},shopType:i.shopType,isActive:!0,name:i.name,monthlyRent:i.monthlyRent,isCluster:!1})}t&&i.push(t)}catch(e){console.error("❌ Failed to create marker for cluster:",e)}}),d(i),u(o),()=>{i.forEach(e=>{e&&e.setMap&&e.setMap(null)})}}catch(e){console.error("❌ Failed to create markers:",e)}},[a,r,t,f,b,s,N,j,d,u,h,m]),(0,l.useEffect)(()=>{if(a&&r&&y())try{let e=window.naver.maps.Event.addListener(a,"center_changed",()=>{setTimeout(()=>{v(a.getZoom())},300)});return()=>{window.naver&&window.naver.maps&&window.naver.maps.Event&&window.naver.maps.Event.removeListener(e)}}catch(e){console.error("❌ Failed to setup center change listener:",e)}},[a,r]),(0,l.useEffect)(()=>{if(o&&n.length&&i.length&&y())try{n.forEach((e,t)=>{let s=i[t];s&&!s.isCluster&&(s.id===o?(e.setIcon({url:b(s.shopType),size:new window.naver.maps.Size(50,62),anchor:new window.naver.maps.Point(25,62)}),e.setZIndex(1e3)):(e.setIcon({url:b(s.shopType),size:new window.naver.maps.Size(40,50),anchor:new window.naver.maps.Point(20,50)}),e.setZIndex(100)))})}catch(e){console.error("❌ Failed to update marker styles:",e)}},[o,n,i,b]),null}(a=r||(r={})).PERMISSION_DENIED="PERMISSION_DENIED",a.POSITION_UNAVAILABLE="POSITION_UNAVAILABLE",a.TIMEOUT="TIMEOUT",a.NOT_SUPPORTED="NOT_SUPPORTED";class N extends Error{constructor(e,t,s){super(t),this.type=e,this.code=s,this.name="GeolocationError"}}let E={enableHighAccuracy:!0,timeout:1e4,maximumAge:6e4},k=()=>"undefined"!=typeof navigator&&"geolocation"in navigator,T=async()=>{if("undefined"==typeof navigator||!navigator.permissions)return"unsupported";try{return(await navigator.permissions.query({name:"geolocation"})).state}catch(e){return"unsupported"}},R=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E;return new Promise((t,s)=>{if(!k()){s(new N("NOT_SUPPORTED","이 브라우저는 위치 서비스를 지원하지 않습니다."));return}navigator.geolocation.getCurrentPosition(e=>{t(e)},e=>{let t,a;switch(console.error("❌ 위치 정보 획득 실패:",e),e.code){case e.PERMISSION_DENIED:t="PERMISSION_DENIED",a="위치 정보 접근이 거부되었습니다. 브라우저 설정에서 위치 권한을 허용해주세요.";break;case e.POSITION_UNAVAILABLE:t="POSITION_UNAVAILABLE",a="위치 정보를 사용할 수 없습니다. GPS나 네트워크 연결을 확인해주세요.";break;case e.TIMEOUT:t="TIMEOUT",a="위치 정보 요청이 시간 초과되었습니다. 다시 시도해주세요.";break;default:t="POSITION_UNAVAILABLE",a="위치 정보를 가져올 수 없습니다."}s(new N(t,a,e.code))},e)})};function C(e){let{className:t="",onLocationFound:s,onError:a}=e,[i,o]=(0,l.useState)(!1),[c,d]=(0,l.useState)(null),{mapInstance:u,setCenter:h}=g(),m=async()=>{if(!u){console.warn("⚠️ Map instance not available");return}if(!k()){let e="이 브라우저는 위치 서비스를 지원하지 않습니다.";d(e),null==a||a(new N(r.NOT_SUPPORTED,e));return}try{o(!0),d(null),await T();let e=await R({enableHighAccuracy:!0,timeout:1e4,maximumAge:3e4}),{latitude:t,longitude:a}=e.coords;if(window.naver&&window.naver.maps){let e=new window.naver.maps.LatLng(t,a);u.setCenter(e),u.setZoom(16)}h({lat:t,lng:a}),null==s||s(e),d(null)}catch(e){console.error("❌ 현재 위치 이동 실패:",e),d(e instanceof N?e.message:"위치 정보를 가져올 수 없습니다."),null==a||a(e),setTimeout(()=>{d(null)},3e3)}finally{o(!1)}};return(0,n.jsxs)("div",{className:"absolute bottom-32 right-4 z-20 ".concat(t),children:[(0,n.jsx)("button",{onClick:m,disabled:i||!u,className:"\n          bg-white p-3 rounded-full shadow-lg border border-gray-200\n          hover:bg-gray-50 active:bg-gray-100\n          disabled:opacity-50 disabled:cursor-not-allowed\n          transition-all duration-200\n          ".concat(i?"cursor-wait":"cursor-pointer","\n        "),"aria-label":i?"현재 위치를 찾는 중...":"현재 위치로 이동",title:i?"현재 위치를 찾는 중...":"현재 위치로 이동",children:i?(0,n.jsx)("div",{className:"relative",children:(0,n.jsxs)("svg",{className:"animate-spin h-6 w-6 text-blue-500",fill:"none",viewBox:"0 0 24 24",children:[(0,n.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,n.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}):(0,n.jsxs)("svg",{className:"h-6 w-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]})}),c&&(0,n.jsx)("div",{className:"absolute bottom-full right-0 mb-2 w-64",children:(0,n.jsxs)("div",{className:"bg-red-100 border border-red-300 text-red-800 text-sm p-3 rounded-lg shadow-lg",children:[(0,n.jsxs)("div",{className:"flex items-start",children:[(0,n.jsx)("svg",{className:"w-4 h-4 text-red-500 mt-0.5 mr-2 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L4.082 16.5c-.77.833.192 2.5 1.732 2.5z"})}),(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{className:"font-medium mb-1",children:"위치 정보 오류"}),(0,n.jsx)("div",{children:c})]})]}),(0,n.jsx)("div",{className:"absolute top-full right-6 -mt-1",children:(0,n.jsx)("div",{className:"border-4 border-transparent border-t-red-300"})})]})})]})}function M(e){let{className:t=""}=e;return(0,n.jsx)("div",{className:"w-full h-full bg-gray-50 flex items-center justify-center ".concat(t),children:(0,n.jsxs)("div",{className:"text-center",children:[(0,n.jsx)("div",{className:"w-64 h-2 bg-gray-200 rounded-full overflow-hidden mx-auto mb-4",children:(0,n.jsx)("div",{className:"h-full bg-blue-500 rounded-full animate-pulse",style:{width:"60%"}})}),(0,n.jsx)("p",{className:"text-gray-600 font-medium",children:"지도 서비스 초기화 중..."}),(0,n.jsx)("p",{className:"text-sm text-gray-400 mt-1",children:"Naver Maps API 로딩"})]})})}function D(e){let{className:t="",onRetry:s}=e;return(0,n.jsx)("div",{className:"w-full h-full bg-red-50 flex items-center justify-center ".concat(t),children:(0,n.jsxs)("div",{className:"text-center",children:[(0,n.jsx)("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,n.jsx)("svg",{className:"w-8 h-8 text-red-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,n.jsx)("p",{className:"text-red-700 font-medium",children:"지도를 불러올 수 없습니다"}),(0,n.jsx)("p",{className:"text-sm text-red-500 mt-1",children:"네트워크 연결을 확인해주세요"}),s&&(0,n.jsx)("button",{onClick:s,className:"mt-4 px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors",children:"다시 시도"})]})})}function L(e){let{className:t=""}=e,s=(0,l.useRef)(null),[a,r]=(0,l.useState)(!1),[i,o]=(0,l.useState)(null),{mapInstance:c,setMapInstance:u,center:h,zoom:m,setLoading:p,isLoading:x}=g();return((0,l.useEffect)(()=>{(async()=>{try{p(!0),await b(),r(!0),o(null)}catch(e){console.error("Failed to load Naver Maps:",e),e.message.includes("authentication failed")?o("Naver Maps API 인증에 실패했습니다. API 키를 확인해주세요."):o("지도를 불러오는데 실패했습니다. 네트워크 연결을 확인해주세요.")}finally{p(!1)}})()},[p]),(0,l.useEffect)(()=>{if(a&&s.current&&!c)try{let e=new window.naver.maps.Map(s.current,{center:new window.naver.maps.LatLng(h.lat,h.lng),zoom:m,minZoom:10,maxZoom:20,zoomControl:!0,zoomControlOptions:{position:d("TOP_RIGHT")},mapTypeControl:!1,mapDataControl:!1,logoControl:!0,scaleControl:!1});u(e)}catch(e){console.error("❌ Failed to initialize map:",e),o("지도 초기화에 실패했습니다.")}},[a,c,u,h,m]),x&&!a)?(0,n.jsx)("div",{className:"w-full h-full ".concat(t),children:(0,n.jsx)(M,{})}):i?(0,n.jsx)("div",{className:"w-full h-full ".concat(t),children:(0,n.jsx)(D,{onRetry:()=>{o(null),window.location.reload()}})}):(0,n.jsx)("div",{className:"relative w-full h-full ".concat(t),children:(0,n.jsx)("div",{ref:s,className:"w-full h-full",style:{minHeight:"400px"}})})}function A(e){let{onClick:t,hasActiveFilters:s=!1}=e;return(0,n.jsx)("button",{onClick:t,className:"\n        absolute top-4 right-4 z-10\n        bg-white shadow-lg rounded-full p-3\n        border border-gray-200\n        hover:bg-gray-50 active:bg-gray-100\n        transition-colors duration-200\n        ".concat(s?"ring-2 ring-blue-500":"","\n      "),"aria-label":"필터 열기",children:(0,n.jsxs)("div",{className:"relative",children:[(0,n.jsx)("svg",{className:"w-6 h-6 text-gray-700",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z"})}),s&&(0,n.jsx)("div",{className:"absolute -top-1 -right-1 w-3 h-3 bg-blue-500 rounded-full"})]})})}var I=s(8059),S=s.n(I);function O(e){let{min:t,max:s,step:a=1,value:r,onChange:i,formatValue:o=e=>e.toString()}=e,[c,d]=(0,l.useState)(r);(0,l.useEffect)(()=>{d(r)},[r]);let u=(0,l.useCallback)(e=>{let s=[Math.max(t,Math.min(Number(e.target.value),c[1]-a)),c[1]];d(s),i(s)},[t,a,c,i]),h=(0,l.useCallback)(e=>{let t=Math.min(s,Math.max(Number(e.target.value),c[0]+a)),r=[c[0],t];d(r),i(r)},[s,a,c,i]),m=(c[0]-t)/(s-t)*100,p=(c[1]-t)/(s-t)*100;return(0,n.jsxs)("div",{className:"jsx-e188abccf3957259 w-full space-y-4",children:[(0,n.jsxs)("div",{className:"jsx-e188abccf3957259 relative h-6",children:[(0,n.jsx)("div",{className:"jsx-e188abccf3957259 absolute top-3 w-full h-0.5 bg-gray-200 rounded"}),(0,n.jsx)("div",{style:{left:"".concat(m,"%"),width:"".concat(p-m,"%")},className:"jsx-e188abccf3957259 absolute top-3 h-0.5 bg-blue-500 rounded"}),(0,n.jsx)("input",{type:"range",min:t,max:s,step:a,value:c[0],onChange:u,style:{zIndex:1},className:"jsx-e188abccf3957259 absolute w-full h-6 bg-transparent appearance-none pointer-events-none focus:outline-none slider-thumb-1"}),(0,n.jsx)("input",{type:"range",min:t,max:s,step:a,value:c[1],onChange:h,style:{zIndex:2},className:"jsx-e188abccf3957259 absolute w-full h-6 bg-transparent appearance-none pointer-events-none focus:outline-none slider-thumb-2"})]}),(0,n.jsxs)("div",{className:"jsx-e188abccf3957259 flex justify-between text-sm text-gray-600",children:[(0,n.jsx)("span",{className:"jsx-e188abccf3957259 px-2 py-1 bg-gray-100 rounded",children:o(c[0])}),(0,n.jsx)("span",{className:"jsx-e188abccf3957259 px-2 py-1 bg-gray-100 rounded",children:o(c[1])})]}),(0,n.jsx)(S(),{id:"e188abccf3957259",children:".slider-thumb-1.jsx-e188abccf3957259::-webkit-slider-thumb,.slider-thumb-2.jsx-e188abccf3957259::-webkit-slider-thumb{-webkit-appearance:none;-moz-appearance:none;-ms-appearance:none;appearance:none;width:20px;height:20px;background:#3b82f6;border:2px solid white;-webkit-border-radius:50%;-moz-border-radius:50%;border-radius:50%;cursor:pointer;pointer-events:all;-webkit-box-shadow:0 2px 4px rgba(0,0,0,.1);-moz-box-shadow:0 2px 4px rgba(0,0,0,.1);box-shadow:0 2px 4px rgba(0,0,0,.1)}.slider-thumb-1.jsx-e188abccf3957259::-moz-range-thumb,.slider-thumb-2.jsx-e188abccf3957259::-moz-range-thumb{width:20px;height:20px;background:#3b82f6;border:2px solid white;-webkit-border-radius:50%;-moz-border-radius:50%;border-radius:50%;cursor:pointer;pointer-events:all;-webkit-box-shadow:0 2px 4px rgba(0,0,0,.1);-moz-box-shadow:0 2px 4px rgba(0,0,0,.1);box-shadow:0 2px 4px rgba(0,0,0,.1)}"})]})}let _=[{value:"restaurant",label:"음식점",icon:"\uD83C\uDF7D️"},{value:"retail",label:"소매",icon:"\uD83D\uDECD️"},{value:"office",label:"사무실",icon:"\uD83C\uDFE2"},{value:"etc",label:"기타",icon:"\uD83D\uDCE6"}];function z(e){let{selected:t,onChange:s}=e,a=e=>{s(t.includes(e)?t.filter(t=>t!==e):[...t,e])};return(0,n.jsx)("div",{className:"grid grid-cols-2 gap-2",children:_.map(e=>{let s=t.includes(e.value);return(0,n.jsxs)("button",{onClick:()=>a(e.value),className:"\n              flex items-center justify-center space-x-2 p-3 rounded-lg border-2 transition-all\n              ".concat(s?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-200 bg-white text-gray-700 hover:border-gray-300","\n            "),type:"button",children:[(0,n.jsx)("span",{className:"text-xl",children:e.icon}),(0,n.jsx)("span",{className:"text-sm font-medium",children:e.label})]},e.value)})})}let P=["강남구","서초구","송파구","강동구","마포구","용산구","성동구","광진구","종로구","중구","서대문구","은평구","노원구","도봉구","강북구","성북구","동대문구","중랑구","영등포구","구로구","금천구","관악구","동작구","양천구","강서구"];function F(e){let{value:t="",onChange:s}=e,[a,r]=(0,l.useState)(t),[i,o]=(0,l.useState)(!1),[c,d]=(0,l.useState)([]),u=(0,l.useRef)(null),h=(0,l.useRef)(null);(0,l.useEffect)(()=>{r(t)},[t]),(0,l.useEffect)(()=>{a?d(P.filter(e=>e.toLowerCase().includes(a.toLowerCase()))):d(P)},[a]);let m=e=>{r(e),s(e),o(!1)};return(0,n.jsxs)("div",{className:"relative",children:[(0,n.jsxs)("div",{className:"relative",children:[(0,n.jsx)("input",{ref:u,type:"text",value:a,onChange:e=>{r(e.target.value),o(!0)},onFocus:()=>{o(!0)},onBlur:()=>{setTimeout(()=>{o(!1)},200)},placeholder:"지역을 검색하세요 (예: 강남구)",className:"w-full px-3 py-2 pr-20 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),(0,n.jsxs)("div",{className:"absolute inset-y-0 right-0 flex items-center",children:[a&&(0,n.jsx)("button",{onClick:()=>{var e;r(""),s(""),null===(e=u.current)||void 0===e||e.focus()},className:"px-2 text-gray-400 hover:text-gray-600",type:"button",children:(0,n.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),(0,n.jsx)("button",{onClick:()=>{s(a),o(!1)},className:"px-3 py-1 text-sm text-blue-600 hover:text-blue-800 border-l border-gray-300",type:"button",children:"적용"})]})]}),i&&(0,n.jsx)("div",{ref:h,className:"absolute z-10 w-full mt-1 bg-white border border-gray-300 rounded-lg shadow-lg max-h-48 overflow-y-auto",children:0===c.length?(0,n.jsx)("div",{className:"px-3 py-2 text-gray-500",children:"검색 결과가 없습니다"}):c.map(e=>(0,n.jsx)("button",{onClick:()=>m(e),className:"w-full px-3 py-2 text-left hover:bg-blue-50 focus:bg-blue-50 focus:outline-none",type:"button",children:e},e))})]})}function U(e){let{initialFilters:t,onApplyFilters:s,onClose:a}=e,[r,i]=(0,l.useState)(t);return(0,n.jsxs)("div",{className:"bg-white p-4 rounded-lg space-y-6 max-h-[80vh] overflow-y-auto",children:[(0,n.jsxs)("div",{className:"flex justify-between items-center",children:[(0,n.jsx)("h2",{className:"text-lg font-semibold",children:"필터"}),(0,n.jsx)("button",{onClick:a,className:"text-gray-500 hover:text-gray-700 p-1","aria-label":"닫기",children:(0,n.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,n.jsxs)("div",{className:"space-y-6",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("h3",{className:"font-medium mb-3",children:"월 임대료 범위"}),(0,n.jsx)(O,{min:0,max:1e3,step:10,value:r.rentRange,onChange:e=>{i(t=>({...t,rentRange:e}))},formatValue:e=>"".concat(e,"만원")})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("h3",{className:"font-medium mb-3",children:"면적 범위"}),(0,n.jsx)(O,{min:0,max:100,step:1,value:r.areaRange,onChange:e=>{i(t=>({...t,areaRange:e}))},formatValue:e=>"".concat(e,"평")})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("h3",{className:"font-medium mb-3",children:"상가 유형"}),(0,n.jsx)(z,{selected:r.shopTypes,onChange:e=>{i(t=>({...t,shopTypes:e}))}})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("h3",{className:"font-medium mb-3",children:"지역 검색"}),(0,n.jsx)(F,{value:r.region,onChange:e=>{i(t=>({...t,region:e||void 0}))}})]})]}),(0,n.jsxs)("div",{className:"flex space-x-2 pt-4 border-t border-gray-200",children:[(0,n.jsx)("button",{onClick:()=>{i({rentRange:[0,1e3],areaRange:[0,100],shopTypes:["restaurant","retail","office","etc"],region:void 0})},className:"flex-1 py-3 border border-gray-300 rounded-lg text-gray-700 font-medium hover:bg-gray-50 transition-colors",children:"초기화"}),(0,n.jsx)("button",{onClick:()=>{s(r),a()},className:"flex-1 py-3 bg-blue-500 text-white rounded-lg font-medium hover:bg-blue-600 transition-colors",children:"적용하기"})]})]})}function B(e){let{message:t="필터를 적용하는 중..."}=e;return(0,n.jsx)("div",{className:"absolute inset-0 bg-white bg-opacity-80 z-50 flex items-center justify-center",children:(0,n.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-6 flex items-center space-x-3",children:[(0,n.jsx)("div",{className:"w-6 h-6 border-2 border-blue-500 border-t-transparent rounded-full animate-spin"}),(0,n.jsx)("span",{className:"text-gray-700 font-medium",children:t})]})})}var H=s(9805),Z=s(5127),W=s(3478);let V=(0,o.Ue)((e,t)=>({isOpen:!1,shopId:null,height:"partial",isAnimating:!1,openSheet:t=>{e({isOpen:!0,shopId:t,height:"partial",isAnimating:!0})},closeSheet:()=>{e({isOpen:!1,height:"partial",isAnimating:!0})},clearShopId:()=>{e({shopId:null})},setHeight:s=>{t().height!==s&&e({height:s,isAnimating:!0})},setAnimating:t=>{e({isAnimating:t})}}));function K(e){let{children:t,minHeight:s=80,className:a="",backdrop:r=!0,closeOnBackdropClick:i=!0,dragHandle:o=!0}=e,{isOpen:c,height:d,closeSheet:u,setHeight:h,setAnimating:m,isAnimating:p,clearShopId:x}=V(),g=(0,H._)(),f=(0,l.useRef)(null),[v,b]=(0,l.useState)(800),[w,y]=(0,l.useState)({collapsed:0,partial:320,full:680});(0,l.useEffect)(()=>{{let e=()=>{let e=window.innerHeight;b(e),y({collapsed:0,partial:320,full:Math.floor(.85*e)})};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)}},[]);let j=(0,l.useCallback)(e=>{switch(e){case"collapsed":return"translateY(100%)";case"partial":default:return"translateY(calc(100% - ".concat(w.partial,"px))");case"full":return"translateY(calc(100% - ".concat(w.full,"px))")}},[w.partial,w.full]);(0,l.useEffect)(()=>{if(c){let e=j(d);m(!0),g.start({transform:e,transition:{duration:.4,ease:[.4,0,.2,1]}}).then(()=>{m(!1)})}else m(!0),g.start({transform:"translateY(100%)",transition:{duration:.3,ease:[.4,0,.2,1]}}).then(()=>{m(!1),x()})},[c,d,g,j]);let N=Math.max(w.full,.9*v);return(0,n.jsx)(Z.M,{mode:"wait",children:(c||p)&&(0,n.jsxs)(n.Fragment,{children:[r&&(0,n.jsx)(W.E.div,{className:"fixed inset-0 bg-black bg-opacity-50 z-40",initial:{opacity:0},animate:{opacity:c?1:0},exit:{opacity:0},transition:{duration:.3},onClick:()=>{i&&u()}}),(0,n.jsxs)(W.E.div,{ref:f,className:"fixed bottom-0 left-0 right-0 bg-white rounded-t-2xl z-50 overflow-hidden shadow-2xl ".concat(a),initial:{transform:"translateY(100%)"},animate:g,exit:{transform:"translateY(100%)",transition:{duration:.3,ease:[.4,0,.2,1]}},drag:"y",dragConstraints:{top:-(w.full-w.partial),bottom:N-w.partial},dragElastic:{top:.1,bottom:.2},onDragEnd:(e,t)=>{let s;let{offset:a,velocity:r}=t;"collapsed"===(s=Math.abs(r.y)>500?r.y>0?"full"===d?"partial":"collapsed":"partial"===d?"full":"partial":a.y>100?"full"===d?"partial":"collapsed":a.y<-100?"partial"===d?"full":"partial":d)?u():h(s)},style:{height:N,minHeight:s},children:[o&&(0,n.jsx)("div",{className:"flex justify-center pt-3 pb-2",children:(0,n.jsx)("div",{className:"w-12 h-1.5 bg-gray-300 rounded-full cursor-grab active:cursor-grabbing"})}),(0,n.jsx)("div",{className:"flex-1 overflow-y-auto px-4 pb-4",style:{maxHeight:"full"===d?w.full-40:w.partial-40},children:t})]},"bottom-sheet")]})})}function q(e){let{className:t=""}=e;return(0,n.jsxs)("div",{className:"space-y-4 animate-pulse ".concat(t),children:[(0,n.jsx)("div",{className:"h-7 bg-gray-200 rounded-lg w-3/4"}),(0,n.jsxs)("div",{className:"space-y-3",children:[(0,n.jsx)("div",{className:"h-48 bg-gray-200 rounded-lg"}),(0,n.jsx)("div",{className:"flex space-x-2 overflow-hidden",children:[1,2,3].map(e=>(0,n.jsx)("div",{className:"w-16 h-16 bg-gray-200 rounded-md flex-shrink-0"},e))})]}),(0,n.jsx)("div",{className:"space-y-3",children:[1,2,3,4,5].map(e=>(0,n.jsxs)("div",{className:"flex justify-between items-center",children:[(0,n.jsx)("div",{className:"h-4 bg-gray-200 rounded w-1/4"}),(0,n.jsx)("div",{className:"h-4 bg-gray-200 rounded w-1/3"})]},e))}),(0,n.jsx)("div",{className:"border-t border-gray-100 pt-4",children:(0,n.jsxs)("div",{className:"space-y-3",children:[(0,n.jsx)("div",{className:"h-5 bg-gray-200 rounded w-1/3"}),(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsx)("div",{className:"h-4 bg-gray-200 rounded w-full"}),(0,n.jsx)("div",{className:"h-4 bg-gray-200 rounded w-full"}),(0,n.jsx)("div",{className:"h-4 bg-gray-200 rounded w-2/3"})]})]})}),(0,n.jsx)("div",{className:"border-t border-gray-100 pt-4",children:(0,n.jsxs)("div",{className:"space-y-3",children:[(0,n.jsx)("div",{className:"h-5 bg-gray-200 rounded w-1/3"}),(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsx)("div",{className:"h-4 bg-gray-200 rounded w-1/3"}),(0,n.jsx)("div",{className:"h-10 bg-gray-200 rounded-lg w-20"})]}),(0,n.jsx)("div",{className:"h-4 bg-gray-200 rounded w-1/2"})]})})]})}function G(e){let{images:t,shopName:s="상점"}=e,[a,r]=(0,l.useState)(0);if(!t||0===t.length)return(0,n.jsx)("div",{className:"h-48 bg-gray-200 flex items-center justify-center rounded-lg",children:(0,n.jsxs)("div",{className:"text-center text-gray-500",children:[(0,n.jsx)("div",{className:"text-2xl mb-2",children:"\uD83C\uDFEA"}),(0,n.jsx)("span",{children:"이미지가 없습니다"})]})});let o=e=>{r(e)},c=e=>{e.target.src="data:image/svg+xml;base64,".concat(btoa('\n      <svg width="400" height="300" xmlns="http://www.w3.org/2000/svg">\n        <rect width="100%" height="100%" fill="#f3f4f6"/>\n        <text x="50%" y="50%" text-anchor="middle" dy=".3em" font-family="system-ui" font-size="16" fill="#9ca3af">\n          Image Load Failed\n        </text>\n      </svg>\n    '))};return(0,n.jsxs)("div",{className:"space-y-3",children:[(0,n.jsxs)("div",{className:"relative h-48 rounded-lg overflow-hidden bg-gray-100",children:[(0,n.jsx)(i.default,{src:t[a],alt:"".concat(s," 메인 이미지"),fill:!0,className:"object-cover transition-all duration-300",sizes:"(max-width: 768px) 100vw, (max-width: 1200px) 50vw, 33vw",priority:0===a,onError:c}),t.length>1&&(0,n.jsxs)("div",{className:"absolute top-2 right-2 bg-black bg-opacity-60 text-white text-xs px-2 py-1 rounded-full",children:[a+1," / ",t.length]})]}),t.length>1&&(0,n.jsx)("div",{className:"flex gap-2 overflow-x-auto py-1",children:t.map((e,t)=>(0,n.jsxs)("button",{className:"relative flex-shrink-0 w-16 h-16 rounded-md overflow-hidden border-2 transition-all duration-200 ".concat(t===a?"border-blue-500 shadow-md":"border-gray-200 hover:border-gray-300"),onClick:()=>o(t),"aria-label":"".concat(s," 이미지 ").concat(t+1," 보기"),children:[(0,n.jsx)(i.default,{src:e,alt:"".concat(s," 썸네일 ").concat(t+1),fill:!0,className:"object-cover",sizes:"64px",onError:c}),t===a&&(0,n.jsx)("div",{className:"absolute inset-0 bg-blue-500 bg-opacity-20 flex items-center justify-center",children:(0,n.jsx)("div",{className:"w-2 h-2 bg-blue-500 rounded-full"})})]},t))}),t.length>0&&(0,n.jsx)("p",{className:"text-xs text-gray-500 text-center",children:1===t.length?"상점 이미지":"총 ".concat(t.length,"장의 이미지 • 썸네일을 클릭하여 확대 보기")})]})}function Y(){var e;let{shopId:t,setHeight:s}=V(),[a,r]=(0,l.useState)(null),[i,o]=(0,l.useState)(!1),[c,d]=(0,l.useState)(null);(0,l.useEffect)(()=>{if(t)return o(!0),d(null),setTimeout(()=>{r({id:t,name:"상점 ".concat(t),address:"부산광역시 해운대구 센텀동로 99",latitude:35.22889,longitude:129.0813095,monthlyRent:15e5,deposit:1e7,area:45.5,shopType:"restaurant",description:"접객이 좋고 유동인구가 많은 번화가 위치의 상점입니다. 대중교통 접근성이 뛰어나며 주변 상권이 잘 발달되어 있습니다.",images:["/images/shop-placeholder-1.jpg","/images/shop-placeholder-2.jpg","/images/shop-placeholder-3.jpg"],contact:{phone:"051-123-4567",email:"contact@example.com",agent:"김중개"},features:["주차 가능","화장실 별도","에어컨 완비","인터넷 설치"],availableFrom:"2024-02-01",createdAt:new Date("2024-01-15T09:00:00Z"),updatedAt:new Date("2024-01-15T09:00:00Z")}),o(!1)},800),()=>{r(null),d(null)}},[t]);let u=e=>{window.location.href="tel:".concat(e)},h=e=>{window.location.href="mailto:".concat(e)};return i?(0,n.jsx)("div",{className:"p-4",children:(0,n.jsx)(q,{})}):c?(0,n.jsx)("div",{className:"p-4",children:(0,n.jsx)(p,{title:"상점 정보 로딩 실패",message:c,onRetry:()=>{d(null)},size:"medium"})}):a?(0,n.jsxs)("div",{className:"flex flex-col space-y-4",children:[(0,n.jsxs)("div",{className:"border-b border-gray-100 pb-4",children:[(0,n.jsx)("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:a.name}),(0,n.jsx)("p",{className:"text-sm text-gray-600 mb-3",children:a.address}),(0,n.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,n.jsxs)("div",{children:[(0,n.jsxs)("span",{className:"text-lg font-bold text-blue-600",children:["월세 ",a.monthlyRent.toLocaleString(),"만원"]}),(0,n.jsxs)("span",{className:"text-sm text-gray-500 ml-2",children:["/ 보증금 ",a.deposit.toLocaleString(),"만원"]})]}),(0,n.jsxs)("span",{className:"text-sm bg-gray-100 px-2 py-1 rounded",children:[a.area,"평"]})]}),(0,n.jsxs)("div",{className:"flex gap-2",children:[(0,n.jsx)("button",{onClick:()=>u(a.contact.phone),className:"flex-1 bg-blue-600 text-white py-2 px-4 rounded-lg font-medium hover:bg-blue-700 transition-colors",children:"\uD83D\uDCDE 전화하기"}),(0,n.jsx)("button",{onClick:()=>{s("full")},className:"flex-1 border border-gray-300 text-gray-700 py-2 px-4 rounded-lg font-medium hover:bg-gray-50 transition-colors",children:"\uD83D\uDCCB 자세히 보기"})]})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("h3",{className:"text-md font-semibold text-gray-900 mb-3",children:"사진"}),(0,n.jsx)(G,{images:a.images,shopName:a.name})]}),(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsx)("h3",{className:"text-md font-semibold text-gray-900 mb-2",children:"기본 정보"}),(0,n.jsxs)("div",{className:"flex justify-between",children:[(0,n.jsx)("span",{className:"text-gray-500",children:"업종"}),(0,n.jsx)("span",{children:(e=>{switch(e){case"restaurant":return"음식점";case"retail":return"소매";case"office":return"사무실";default:return"기타"}})(a.shopType)})]}),(0,n.jsxs)("div",{className:"flex justify-between",children:[(0,n.jsx)("span",{className:"text-gray-500",children:"면적"}),(0,n.jsxs)("span",{children:[a.area,"평"]})]}),(0,n.jsxs)("div",{className:"flex justify-between",children:[(0,n.jsx)("span",{className:"text-gray-500",children:"월 임대료"}),(0,n.jsxs)("span",{children:[a.monthlyRent.toLocaleString(),"만원"]})]}),(0,n.jsxs)("div",{className:"flex justify-between",children:[(0,n.jsx)("span",{className:"text-gray-500",children:"보증금"}),(0,n.jsxs)("span",{children:[a.deposit.toLocaleString(),"만원"]})]}),(0,n.jsxs)("div",{className:"flex justify-between",children:[(0,n.jsx)("span",{className:"text-gray-500",children:"입주 가능일"}),(0,n.jsx)("span",{children:a.availableFrom||"문의"})]})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("h3",{className:"text-md font-semibold text-gray-900 mb-2",children:"설명"}),(0,n.jsx)("p",{className:"text-sm text-gray-600 leading-relaxed",children:a.description})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("h3",{className:"text-md font-semibold text-gray-900 mb-2",children:"특징"}),(0,n.jsx)("div",{className:"flex flex-wrap gap-2",children:(null===(e=a.features)||void 0===e?void 0:e.map((e,t)=>(0,n.jsx)("span",{className:"text-xs bg-blue-50 text-blue-700 px-2 py-1 rounded-full",children:e},t)))||(0,n.jsx)("span",{className:"text-sm text-gray-500",children:"특징 정보가 없습니다."})})]}),(0,n.jsxs)("div",{className:"border-t pt-4",children:[(0,n.jsx)("h3",{className:"text-md font-semibold text-gray-900 mb-2",children:"연락처"}),(0,n.jsx)("div",{className:"space-y-2",children:(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("p",{className:"font-medium",children:a.contact.agent||"담당자 정보 없음"}),(0,n.jsx)("p",{className:"text-sm text-gray-600",children:a.contact.phone})]}),(0,n.jsxs)("div",{className:"flex gap-2",children:[(0,n.jsx)("button",{onClick:()=>u(a.contact.phone),className:"bg-green-600 text-white px-3 py-1 text-sm rounded hover:bg-green-700 transition-colors",children:"\uD83D\uDCDE 전화"}),a.contact.email&&(0,n.jsx)("button",{onClick:()=>h(a.contact.email),className:"bg-blue-600 text-white px-3 py-1 text-sm rounded hover:bg-blue-700 transition-colors",children:"✉️ 메일"})]})]})})]})]}):(0,n.jsx)("div",{className:"p-4",children:(0,n.jsx)(p,{title:"상점 정보 없음",message:"상점 정보를 찾을 수 없습니다.",size:"medium"})})}let X=function(){let{enableAutoDetection:e=!0,fallbackToDefault:t=!0,timeout:s=8e3,onLocationDetected:a,onError:r}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},[n,i]=(0,l.useState)({isDetecting:!1,hasDetected:!1,error:null,position:null,permissionStatus:null}),{mapInstance:o,setCenter:c}=g(),d=(0,l.useRef)(!1),u=(0,l.useRef)(!1),h=(0,l.useCallback)(e=>{null==a||a(e)},[a]),m=(0,l.useCallback)(e=>{null==r||r(e)},[r]),p=(0,l.useRef)(!1),x=(0,l.useCallback)(async()=>{if(!d.current&&!p.current&&e){if(!k()){d.current=!0;return}try{u.current=!1,d.current=!0,p.current=!0,i(e=>({...e,isDetecting:!0,error:null}));let e=await T();if(u.current)return;if(i(t=>({...t,permissionStatus:e})),"denied"===e){p.current=!1,i(e=>({...e,isDetecting:!1,hasDetected:!0}));return}let t=await R({enableHighAccuracy:!1,timeout:s,maximumAge:3e5});if(u.current)return;let a={lat:t.coords.latitude,lng:t.coords.longitude};if(o&&window.naver&&window.naver.maps){let e=new window.naver.maps.LatLng(a.lat,a.lng);o.setCenter(e)}c(a),p.current=!1,i(e=>({...e,isDetecting:!1,hasDetected:!0,position:t,error:null})),h(t)}catch(t){if(u.current)return;let e=t instanceof N?t.message:"위치 정보를 가져올 수 없습니다.";p.current=!1,i(t=>({...t,isDetecting:!1,hasDetected:!0,error:e})),t instanceof N&&m(t)}}},[e,t,s,h,m,c,o]);(0,l.useEffect)(()=>(o&&!d.current&&x(),()=>{u.current=!0}),[o,x]);let f=(0,l.useCallback)(async()=>{if(!p.current){d.current=!1,p.current=!0;try{i(e=>({...e,isDetecting:!0,error:null}));let e=await R({enableHighAccuracy:!0,timeout:s}),t={lat:e.coords.latitude,lng:e.coords.longitude};if(o&&window.naver&&window.naver.maps){let e=new window.naver.maps.LatLng(t.lat,t.lng);o.setCenter(e),o.setZoom(16)}c(t),p.current=!1,i(t=>({...t,isDetecting:!1,hasDetected:!0,position:e,error:null})),h(e)}catch(t){let e=t instanceof N?t.message:"위치 정보를 가져올 수 없습니다.";p.current=!1,i(t=>({...t,isDetecting:!1,error:e})),t instanceof N&&m(t)}}},[s,o,c,h,m]);return{...n,retryDetection:f,isSupported:k()}},J=s(8472).Z.create({baseURL:"http://localhost:8000/api",headers:{"Content-Type":"application/json"},timeout:1e4});J.interceptors.request.use(e=>(e.metadata={startTime:Date.now()},e),e=>(console.error("❌ Request Error:",e),Promise.reject(e))),J.interceptors.response.use(e=>{var t;let s=e.config;return(null===(t=s.metadata)||void 0===t?void 0:t.startTime)&&(Date.now(),s.metadata.startTime),e},e=>{var t,s,a,r;let n=e.config,l=(null==n?void 0:null===(t=n.metadata)||void 0===t?void 0:t.startTime)?Date.now()-n.metadata.startTime:0;console.error("❌ API Error:",{method:null==n?void 0:null===(s=n.method)||void 0===s?void 0:s.toUpperCase(),url:null==n?void 0:n.url,status:null===(a=e.response)||void 0===a?void 0:a.status,responseTime:l?"".concat(l,"ms"):"N/A",message:e.message,data:null===(r=e.response)||void 0===r?void 0:r.data});let i={code:"UNKNOWN_ERROR",message:"알 수 없는 오류가 발생했습니다."};if(e.response){let t=e.response.status,s=e.response.data;switch(t){case 400:i.code="BAD_REQUEST",i.message="잘못된 요청입니다.";break;case 401:i.code="UNAUTHORIZED",i.message="인증이 필요합니다.";break;case 403:i.code="FORBIDDEN",i.message="접근 권한이 없습니다.";break;case 404:i.code="NOT_FOUND",i.message="요청한 데이터를 찾을 수 없습니다.";break;case 500:i.code="INTERNAL_SERVER_ERROR",i.message="서버 내부 오류가 발생했습니다.";break;default:i.code="HTTP_".concat(t),i.message=(null==s?void 0:s.message)||"HTTP ".concat(t," 오류가 발생했습니다.")}i.details=s}else e.request?(i.code="NETWORK_ERROR",i.message="네트워크 연결을 확인해주세요."):"ECONNABORTED"===e.code&&(i.code="TIMEOUT_ERROR",i.message="요청 시간이 초과되었습니다.");return Promise.reject(i)});let Q=[{id:"shop-001",name:"부산진구 카페 공실",address:"부산광역시 부산진구 중앙대로 708",latitude:35.2289,longitude:129.0813,area:15,monthlyRent:180,deposit:1e3,shopType:"restaurant",images:["https://via.placeholder.com/400x300/f0f0f0/333333?text=카페+전경","https://via.placeholder.com/400x300/f8f8f8/333333?text=내부+모습"],contact:{phone:"051-1234-5678",email:"info@sample-cafe.com"},description:"부산진구 중심가 근처의 좋은 접근성을 가진 카페 공실입니다. 직장인들이 많은 지역으로 매출이 안정적입니다.",createdAt:new Date("2024-01-15"),updatedAt:new Date("2024-01-20")},{id:"shop-002",name:"서면역 소매점 공실",address:"부산광역시 부산진구 서면로 38",latitude:35.225,longitude:129.085,area:25,monthlyRent:250,deposit:1500,shopType:"retail",images:["https://via.placeholder.com/400x300/e0e0e0/333333?text=매장+외관"],contact:{phone:"051-2345-6789"},description:"서면역 근처의 소매점 공실로 유동인구가 많은 위치입니다.",createdAt:new Date("2024-01-10"),updatedAt:new Date("2024-01-18")},{id:"shop-003",name:"부산진구 사무실",address:"부산광역시 부산진구 동천로 109",latitude:35.232,longitude:129.078,area:40,monthlyRent:120,deposit:800,shopType:"office",images:[],contact:{phone:"051-3456-7890",email:"office@busanjin.com"},description:"부산진구 중심가의 사무실 공간입니다. 조용한 업무 환경을 제공합니다.",createdAt:new Date("2024-01-12"),updatedAt:new Date("2024-01-22")},{id:"shop-004",name:"전포동 음식점 공실",address:"부산광역시 부산진구 전포대로 175",latitude:35.226,longitude:129.079,area:20,monthlyRent:200,deposit:1200,shopType:"restaurant",images:["https://via.placeholder.com/400x300/f5f5f5/333333?text=음식점+내부"],contact:{phone:"051-4567-8901"},description:"전포카페거리 근처의 음식점 공실입니다. 젊은층 고객이 많은 지역입니다.",createdAt:new Date("2024-01-08"),updatedAt:new Date("2024-01-25")},{id:"shop-005",name:"부전동 기타 상가",address:"부산광역시 부산진구 중앙대로 668",latitude:35.231,longitude:129.084,area:30,monthlyRent:150,deposit:900,shopType:"etc",images:[],contact:{phone:"051-5678-9012",email:"info@bujeon.com"},description:"부전동 상업지구의 다목적 상가 공간입니다.",createdAt:new Date("2024-01-05"),updatedAt:new Date("2024-01-28")}];Q.map(e=>({id:e.id,position:{lat:e.latitude,lng:e.longitude},shopType:e.shopType,isActive:!0,name:e.name,monthlyRent:e.monthlyRent}));let $=(e,t)=>e.filter(e=>{let s=e.monthlyRent>=t.rentRange[0]&&e.monthlyRent<=t.rentRange[1],a=e.area>=t.areaRange[0]&&e.area<=t.areaRange[1],r=t.shopTypes.includes(e.shopType),n=!t.region||e.address.includes(t.region);return s&&a&&r&&n});class ee{generateKey(e,t){if(!t)return e;let s=Object.keys(t).sort().reduce((e,s)=>{let a=t[s];return null!=a&&(e[s]=Array.isArray(a)?a.sort().join(","):String(a)),e},{});return"".concat(e,":").concat(JSON.stringify(s))}estimateSize(e){try{return new Blob([JSON.stringify(e)]).size}catch(t){return 2*JSON.stringify(e).length}}get(e,t){let s=this.generateKey(e,t),a=this.cache.get(s);return(this.stats.totalRequests++,!a||Date.now()>a.expiresAt)?(this.stats.misses++,a&&(this.cache.delete(s),this.stats.memoryUsage-=a.size),this.updateHitRate(),null):(this.stats.hits++,this.updateHitRate(),a.timestamp=Date.now(),a.data)}set(e,t,s,a){let r=this.generateKey(e,a),n=this.estimateSize(t),l=Date.now(),i=l+(s||this.DEFAULT_TTL);this.stats.memoryUsage+n>this.MAX_MEMORY_SIZE&&this.evictLRU();let o=this.cache.get(r);o&&(this.stats.memoryUsage-=o.size),this.cache.set(r,{data:t,timestamp:l,expiresAt:i,size:n}),this.stats.memoryUsage+=n}evictLRU(){let e=null,t=Date.now();if(Array.from(this.cache.entries()).forEach(s=>{let[a,r]=s;r.timestamp<t&&(t=r.timestamp,e=a)}),e){let t=this.cache.get(e);this.cache.delete(e),this.stats.memoryUsage-=t.size}}cleanup(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=Date.now(),s=[];Array.from(this.cache.entries()).forEach(a=>{let[r,n]=a,l=t>n.expiresAt,i=e&&t-n.timestamp>this.DEFAULT_TTL;(l||i)&&(s.push(r),this.stats.memoryUsage-=n.size)}),s.forEach(e=>this.cache.delete(e))}updateHitRate(){this.stats.hitRate=this.stats.totalRequests>0?this.stats.hits/this.stats.totalRequests:0}invalidate(e){let t=[],s=0;return Array.from(this.cache.entries()).forEach(a=>{let[r,n]=a;r.includes(e)&&(t.push(r),s+=n.size)}),t.forEach(e=>this.cache.delete(e)),this.stats.memoryUsage-=s,t.length}getStats(){return{...this.stats}}clear(){this.cache.clear(),this.stats={hits:0,misses:0,totalRequests:0,memoryUsage:0,hitRate:0}}constructor(){this.cache=new Map,this.stats={hits:0,misses:0,totalRequests:0,memoryUsage:0,hitRate:0},this.DEFAULT_TTL=3e5,this.LONG_TTL=18e5,this.SHORT_TTL=6e4,this.MAX_MEMORY_SIZE=52428800,this.CLEANUP_INTERVAL=6e4,setInterval(()=>this.cleanup(),this.CLEANUP_INTERVAL),document.addEventListener("visibilitychange",()=>{document.hidden&&this.cleanup(!0)})}}let et=new ee;class es{static filterByBounds(e,t){return e.filter(e=>e.latitude>=t.south&&e.latitude<=t.north&&e.longitude>=t.west&&e.longitude<=t.east)}static prioritizeByDistance(e,t,s){return e.map(e=>({...e,distance:this.calculateDistance(t,s,e.latitude,e.longitude)})).sort((e,t)=>e.distance-t.distance).slice(0,this.DEFAULT_MAX_MARKERS)}static calculateDistance(e,t,s,a){let r=this.toRad(s-e),n=this.toRad(a-t),l=Math.sin(r/2)*Math.sin(r/2)+Math.cos(this.toRad(e))*Math.cos(this.toRad(s))*Math.sin(n/2)*Math.sin(n/2);return 2*Math.atan2(Math.sqrt(l),Math.sqrt(1-l))*6371}static toRad(e){return e*Math.PI/180}static filterByZoom(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=s.minZoomLevel||this.DEFAULT_MIN_ZOOM,r=s.maxMarkers||this.DEFAULT_MAX_MARKERS;return t<a?e.sort((e,t)=>t.monthlyRent-e.monthlyRent).slice(0,Math.floor(r/3)):e.slice(0,r)}static optimizeMarkers(e,t){let s=[...e];return t.bounds&&(s=this.filterByBounds(s,t.bounds)),void 0!==t.currentZoom&&(s=this.filterByZoom(s,t.currentZoom,t)),t.centerLat&&t.centerLng&&(s=this.prioritizeByDistance(s,t.centerLat,t.centerLng)),s}}es.DEFAULT_MAX_MARKERS=500,es.DEFAULT_MIN_ZOOM=10;class ea{static startTiming(e){let t=performance.now();return()=>{let s=performance.now();this.metrics[e]||(this.metrics[e]=[]),this.metrics[e].push(s-t),this.metrics[e].length>10&&this.metrics[e].shift()}}static getAverageTime(e){let t=this.metrics[e]||[];return t.length>0?t.reduce((e,t)=>e+t,0)/t.length:0}static getMetrics(){let e={};return Object.keys(this.metrics).forEach(t=>{let s=this.metrics[t];e[t]={current:s[s.length-1]||0,average:this.getAverageTime(t)}}),e}}ea.metrics={};class er{static getInstance(){return er.instance||(er.instance=new er),er.instance}getCacheKey(e,t){return"".concat(e,":").concat(JSON.stringify(t||{}))}async getCachedData(e,t,s,a){let r=ea.startTiming("API:".concat(e));try{let n=et.get(e,a);if(n)return r(),n;let l=await t();return et.set(e,l,s,a),l}finally{r()}}getFromCache(e){let t=this.cache.get(e);return t?Date.now()-t.timestamp>this.CACHE_TTL?(this.cache.delete(e),null):t.data:null}setCache(e,t){this.cache.set(e,{data:t,timestamp:Date.now()})}get useMockData(){return!0}async getShops(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.getCacheKey("getShops",e),s=this.getFromCache(t);if(s)return s;try{if(this.useMockData)return this.getMockShops(e);let s=await J.get("/shops",{params:e});if(!s.data.success||!s.data.data)throw Error(s.data.error||"Failed to fetch shops");let a=s.data.data;return this.setCache(t,a),a}catch(t){if(console.error("Failed to fetch shops:",t),!this.useMockData)return this.getMockShops(e);throw t}}async getShopById(e){let t=this.getCacheKey("getShopById",{id:e}),s=this.getFromCache(t);if(s)return s;try{if(this.useMockData){let s=Q.find(t=>t.id===e);if(!s)throw{code:"NOT_FOUND",message:"해당 상가를 찾을 수 없습니다."};return this.setCache(t,s),s}let s=await J.get("/shops/".concat(e));if(!s.data.success||!s.data.data)throw Error(s.data.error||"Failed to fetch shop");let a=s.data.data;return this.setCache(t,a),a}catch(s){if(console.error("Failed to fetch shop ".concat(e,":"),s),!this.useMockData){let s=Q.find(t=>t.id===e);if(s)return this.setCache(t,s),s}throw s}}getMockShops(e){let t=[...Q];e.filter&&(t=$(t,{rentRange:e.filter.rentRange||[0,1e3],areaRange:e.filter.areaRange||[0,100],shopTypes:e.filter.shopTypes||["restaurant","retail","office","etc"],region:e.filter.region})),e.sortBy&&t.sort((t,s)=>{let a,r;switch(e.sortBy){case"rent":a=t.monthlyRent,r=s.monthlyRent;break;case"area":a=t.area,r=s.area;break;case"createdAt":a=t.createdAt,r=s.createdAt;break;default:return 0}return"desc"===e.sortOrder?a<r?1:-1:a>r?1:-1});let s=e.limit||20,a=e.offset||0;return{items:t.slice(a,a+s),total:t.length,limit:s,offset:a,hasMore:a+s<t.length}}clearCache(){this.cache.clear()}invalidateShopCache(e){e?Array.from(this.cache.keys()).filter(t=>t.includes('"id":"'.concat(e,'"'))||t.includes("getShops")).forEach(e=>this.cache.delete(e)):this.clearCache()}constructor(){this.cache=new Map,this.CACHE_TTL=3e5}}let en=er.getInstance(),el=e=>en.getShops(e);function ei(e){let{message:t="로딩 중...",size:s="md"}=e;return(0,n.jsxs)("div",{className:"flex flex-col items-center justify-center p-8",children:[(0,n.jsx)("div",{className:"".concat({sm:"w-4 h-4",md:"w-8 h-8",lg:"w-12 h-12"}[s]," animate-spin"),children:(0,n.jsxs)("svg",{className:"w-full h-full text-primary-600",fill:"none",viewBox:"0 0 24 24",children:[(0,n.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,n.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"m4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}),(0,n.jsx)("p",{className:"mt-4 text-sm text-gray-600 text-center",children:t})]})}function eo(){let[e,t]=(0,l.useState)(!1),[s,a]=(0,l.useState)([]),[r,i]=(0,l.useState)(!0),[o,c]=(0,l.useState)(!1),[d,x]=(0,l.useState)(null),[g,f]=(0,l.useState)(null),{openSheet:v}=V(),{filters:b,appliedFilters:w,isFilterPanelOpen:y,applyFilters:N,openFilterPanel:E,closeFilterPanel:k,isDefaultFilter:T}=u(),R=(0,l.useCallback)(e=>{},[]),M=(0,l.useCallback)(e=>{console.warn("\uD83D\uDCCD 위치 오류:",e.message)},[]),D=X({enableAutoDetection:e,fallbackToDefault:!0,timeout:8e3,onLocationDetected:R,onError:M}),I=(0,l.useCallback)(async e=>{let t=ea.startTiming("FetchShops");try{c(!0),x(null),f(null);let t=await el({limit:100,filter:e});a(t.items)}catch(e){console.error("❌ Failed to load shops:",e),e&&"object"==typeof e&&e.code?f(e):x((null==e?void 0:e.message)||"상가 데이터를 불러오는데 실패했습니다.")}finally{c(!1),r&&i(!1),t()}},[r]),S=(0,l.useMemo)(()=>s,[s]),O=(0,l.useMemo)(()=>(function(e){let t=[];if((e.rentRange[0]>0||e.rentRange[1]<1e3)&&t.push("임대료 ".concat(e.rentRange[0],"-").concat(e.rentRange[1],"만원")),(e.areaRange[0]>0||e.areaRange[1]<100)&&t.push("면적 ".concat(e.areaRange[0],"-").concat(e.areaRange[1],"평")),e.shopTypes.length<4){let s=e.shopTypes.map(e=>{switch(e){case"restaurant":return"음식점";case"retail":return"소매";case"office":return"사무실";case"etc":return"기타";default:return e}});t.push("유형: ".concat(s.join(", ")))}return e.region&&t.push("지역: ".concat(e.region)),t.length>0?t.join(" | "):"전체"})(w),[w]),_=function(e,t){let s=(0,l.useRef)(null);return(0,l.useCallback)(function(){for(var a=arguments.length,r=Array(a),n=0;n<a;n++)r[n]=arguments[n];s.current&&clearTimeout(s.current),s.current=setTimeout(()=>{e(...r)},t)},[e,t])}(I,500);(0,l.useEffect)(()=>{t(!0)},[]),(0,l.useEffect)(()=>{e&&_(w)},[w,e,_]);let z=(0,l.useCallback)(e=>{v(e)},[v]),P=(0,l.useCallback)(e=>{N(e)},[N]),F=(0,l.useCallback)(()=>{x(null),f(null),i(!0),_(w)},[_,w]);return((0,l.useEffect)(()=>{},[e]),e)?r&&!s.length?(0,n.jsxs)("div",{className:"flex flex-col h-screen bg-gray-50",children:[(0,n.jsx)(h,{}),(0,n.jsx)(m,{}),(0,n.jsx)("main",{className:"flex-1 flex items-center justify-center",children:(0,n.jsx)(ei,{message:"상가 정보를 불러오는 중...",size:"lg"})})]}):(d||g)&&!s.length?(0,n.jsxs)("div",{className:"flex flex-col h-screen bg-gray-50",children:[(0,n.jsx)(h,{}),(0,n.jsx)(m,{}),(0,n.jsx)("main",{className:"flex-1 flex items-center justify-center p-4",children:(0,n.jsx)(p,{title:(null==g?void 0:g.code)==="NETWORK_ERROR"?"네트워크 연결 오류":"데이터 로딩 실패",message:(null==g?void 0:g.message)||d||"상가 데이터를 불러오는데 실패했습니다.",errorCode:null==g?void 0:g.code,onRetry:F,showDetails:!0,size:"large"})})]}):(0,n.jsxs)("div",{className:"flex flex-col h-screen bg-gray-50",children:[(0,n.jsx)(h,{}),(0,n.jsx)(m,{}),(0,n.jsxs)("main",{className:"flex-1 overflow-hidden relative",children:[(0,n.jsx)(L,{className:"h-full w-full"}),S.length>0&&(0,n.jsx)(j,{shops:S,onMarkerClick:z}),(0,n.jsx)(A,{onClick:E,hasActiveFilters:!T()}),(0,n.jsx)(C,{onLocationFound:R,onError:M}),(0,n.jsxs)("div",{className:"absolute bottom-4 left-4 bg-white rounded-lg shadow-lg p-3 z-10 max-w-xs",children:[(0,n.jsx)("div",{className:"flex items-center justify-between mb-2",children:(0,n.jsxs)("div",{className:"text-sm font-medium text-gray-700",children:["\uD83D\uDCCD ",S.length,"개의 공실 상가"]})}),!T()&&(0,n.jsx)("div",{className:"text-xs text-blue-600 mb-2",children:O}),D.isDetecting&&(0,n.jsxs)("div",{className:"text-xs text-green-600 flex items-center",children:[(0,n.jsxs)("svg",{className:"animate-spin w-3 h-3 mr-1",fill:"none",viewBox:"0 0 24 24",children:[(0,n.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,n.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"위치 감지 중..."]}),(d||g)&&s.length>0&&(0,n.jsx)("div",{className:"text-xs text-red-600 mt-1",children:"⚠️ 일부 데이터 로딩 실패"})]}),o&&(0,n.jsx)(B,{}),y&&(0,n.jsx)("div",{className:"absolute inset-0 bg-black bg-opacity-50 z-40 flex items-center justify-center p-4",children:(0,n.jsx)("div",{className:"w-full max-w-md",children:(0,n.jsx)(U,{initialFilters:b,onApplyFilters:P,onClose:k})})})]}),(0,n.jsx)(K,{children:(0,n.jsx)(Y,{})})]}):(0,n.jsxs)("div",{className:"flex flex-col h-screen bg-gray-50",children:[(0,n.jsx)(h,{}),(0,n.jsx)(m,{}),(0,n.jsx)("main",{className:"flex-1 flex items-center justify-center",children:(0,n.jsx)(ei,{message:"앱을 초기화하는 중...",size:"lg"})})]})}}},function(e){e.O(0,[216,744],function(){return e(e.s=4461)}),_N_E=e.O()}]);