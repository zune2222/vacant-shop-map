"use strict";(()=>{var e={};e.id=888,e.ids=[888],e.modules={399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},697:(e,t,r)=>{r.r(t),r.d(t,{originalPathname:()=>m,patchFetch:()=>R,requestAsyncStorage:()=>l,routeModule:()=>d,serverHooks:()=>h,staticGenerationAsyncStorage:()=>g});var a={};r.r(a),r.d(a,{GET:()=>c,dynamic:()=>u});var s=r(9303),n=r(8716),o=r(670),p=r(7070),i=r(1529);let u="force-dynamic";async function c(e){try{let t=e.nextUrl.searchParams,r=parseInt(t.get("limit")||"20"),a=parseInt(t.get("offset")||"0"),s=t.get("sortBy"),n=t.get("sortOrder")||"asc",o={rentRange:[parseInt(t.get("rentMin")||"0"),parseInt(t.get("rentMax")||"1000")],areaRange:[parseInt(t.get("areaMin")||"0"),parseInt(t.get("areaMax")||"100")],shopTypes:t.get("shopTypes")?.split(",")||["restaurant","retail","office","etc"],region:t.get("region")||void 0},u=(0,i.gb)(i.bC,o);s&&u.sort((e,t)=>{let r,a;switch(s){case"rent":r=e.monthlyRent,a=t.monthlyRent;break;case"area":r=e.area,a=t.area;break;case"createdAt":r=e.createdAt.getTime(),a=t.createdAt.getTime();break;default:return 0}return"desc"===n?r<a?1:-1:r>a?1:-1});let c=u.slice(a,a+r),d={success:!0,data:{items:c,total:u.length,limit:r,offset:a,hasMore:a+r<u.length}};return p.NextResponse.json(d)}catch(e){return console.error("API Error in /api/shops:",e),p.NextResponse.json({success:!1,error:"INTERNAL_SERVER_ERROR",message:"공실 상가 데이터를 불러오는데 실패했습니다."},{status:500})}}let d=new s.AppRouteRouteModule({definition:{kind:n.x.APP_ROUTE,page:"/api/shops/route",pathname:"/api/shops",filename:"route",bundlePath:"app/api/shops/route"},resolvedPagePath:"/Users/junbookpro/Documents/study/vacant-shop-map/app/api/shops/route.ts",nextConfigOutput:"",userland:a}),{requestAsyncStorage:l,staticGenerationAsyncStorage:g,serverHooks:h}=d,m="/api/shops/route";function R(){return(0,o.patchFetch)({serverHooks:h,staticGenerationAsyncStorage:g})}}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),a=t.X(0,[216,351],()=>r(697));module.exports=a})();