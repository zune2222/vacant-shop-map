"use strict";(()=>{var e={};e.id=888,e.ids=[888],e.modules={399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},697:(e,t,r)=>{r.r(t),r.d(t,{originalPathname:()=>h,patchFetch:()=>m,requestAsyncStorage:()=>d,routeModule:()=>c,serverHooks:()=>l,staticGenerationAsyncStorage:()=>g});var s={};r.r(s),r.d(s,{GET:()=>u});var a=r(9303),n=r(8716),o=r(670),p=r(7070),i=r(1529);async function u(e){try{let t=e.nextUrl.searchParams,r=parseInt(t.get("limit")||"20"),s=parseInt(t.get("offset")||"0"),a=t.get("sortBy"),n=t.get("sortOrder")||"asc",o={rentRange:[parseInt(t.get("rentMin")||"0"),parseInt(t.get("rentMax")||"1000")],areaRange:[parseInt(t.get("areaMin")||"0"),parseInt(t.get("areaMax")||"100")],shopTypes:t.get("shopTypes")?.split(",")||["restaurant","retail","office","etc"],region:t.get("region")||void 0},u=(0,i.gb)(i.bC,o);a&&u.sort((e,t)=>{let r,s;switch(a){case"rent":r=e.monthlyRent,s=t.monthlyRent;break;case"area":r=e.area,s=t.area;break;case"createdAt":r=e.createdAt.getTime(),s=t.createdAt.getTime();break;default:return 0}return"desc"===n?r<s?1:-1:r>s?1:-1});let c=u.slice(s,s+r),d={success:!0,data:{items:c,total:u.length,limit:r,offset:s,hasMore:s+r<u.length}};return p.NextResponse.json(d)}catch(e){return console.error("API Error in /api/shops:",e),p.NextResponse.json({success:!1,error:"INTERNAL_SERVER_ERROR",message:"공실 상가 데이터를 불러오는데 실패했습니다."},{status:500})}}let c=new a.AppRouteRouteModule({definition:{kind:n.x.APP_ROUTE,page:"/api/shops/route",pathname:"/api/shops",filename:"route",bundlePath:"app/api/shops/route"},resolvedPagePath:"/Users/junbookpro/Documents/study/vacant-shop-map/app/api/shops/route.ts",nextConfigOutput:"",userland:s}),{requestAsyncStorage:d,staticGenerationAsyncStorage:g,serverHooks:l}=c,h="/api/shops/route";function m(){return(0,o.patchFetch)({serverHooks:l,staticGenerationAsyncStorage:g})}}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[216,351],()=>r(697));module.exports=s})();